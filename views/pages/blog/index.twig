{% extends "layouts/master.twig" %}
{% block content %}
<div class="container">
    <h2 class="title" style="margin-top:30px;">
        المدونة
    </h2>
    {% if posts|length == 0 %}
        <div class="panel" style="margin-top:20px; text-align:center;">
            <p>لا توجد مقالات حالياً.</p>
        </div>
    {% else %}
        <section class="section fade-up">
            <div style="
                display:grid;
                grid-template-columns:repeat(auto-fill, minmax(280px, 1fr));
                gap:25px;
            ">
                {% for post in posts %}
                    <div class="panel" style="padding:0; overflow:hidden; border-radius:20px;">
                        <a href="/blog/{{ post.slug }}">
                            <img src="{{ post.image }}" alt="{{ post.title }}"
                                 style="width:100%; height:200px; object-fit:cover;">
                        </a>
                        <div style="padding:20px;">
                            <a href="/blog/{{ post.slug }}"
                               style="font-size:18px; font-weight:700; color:var(--rose-dark); text-decoration:none;">
                                {{ post.title }}
                            </a>
                            <p style="margin:8px 0; color:#777; font-size:14px;">
                                {{ post.created_at|date("Y-m-d") }}
                            </p>
                            <p style="color:var(--text); line-height:1.7;">
                                {{ post.excerpt }}
                            </p>
                            <a href="/blog/{{ post.slug }}"
                               class="btn btn-outline-gold"
                               style="margin-top:10px; display:inline-block;">
                                قراءة المقال
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </section>
    {% endif %}
</div>
{% endblock %}
